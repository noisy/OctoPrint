<!DOCTYPE html>
<html>
    <head>
        <title>Cura WebUI</title>

        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/jquery.fileupload-ui.css') }}" rel="stylesheet" media="screen">

        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="{{ url_for('static', filename='js/knockout-2.2.0.js') }}"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.ui.widget.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.flot.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.iframe-transport.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.fileupload.js') }}"></script>
        <script src="{{ url_for('static', filename='js/ui.js') }}"></script>
        <script lang="javascript">
            var AJAX_BASEURL = '/ajax/';
        </script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row-fluid">
                <h1>Cura WebUI</h1>
            </div>

            <div class="row-fluid">
                <div class="span3 accordion">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#state">State</a>
                        </div>
                        <div class="accordion-body collapse in" id="state">
                            <div class="accordion-inner">
                                Machine State: <strong data-bind="text: stateString"></strong><br>

                                <div class="progress">
                                    <div class="bar" id="job_progressBar" data-bind="style: { width: progress() + '%' }"></div>
                                </div>

                                Filament: <strong data-bind="text: filament"></strong><br>
                                Estimated Print Time: <strong data-bind="text: estimatedPrintTime"></strong><br>
                                Line: <strong data-bind="text: lineString"></strong><br>
                                Height: <strong data-bind="text: currentHeight"></strong><br>
                                Print Time: <strong data-bind="text: printTime"></strong><br>
                                Print Time Left: <strong data-bind="text: printTimeLeft"></strong><br>

                                <button class="btn" id="printer_connect" data-bind="css: {disabled: !isErrorOrClosed}, enable: isErrorOrClosed">Connect</button>
                                <button class="btn btn-primary" id="job_print"><i class="icon-print icon-white"></i> <span>Print</span></button>
                                <button class="btn" id="job_pause"><i class="icon-pause"></i> <span>Pause</span></button>
                                <button class="btn" id="job_cancel"><i class="icon-stop"></i> Cancel</button>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <a class="accordion-toggle" data-toggle="collapse" href="#files">Files</a>
                        </div>
                        <div class="accordion-body collapse" id="files">
                            <div class="accordion-inner">
                                <table class="table table-striped table-hover table-condensed table-hover">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th style="text-align: right">Size</th>
                                            <th style="text-align: center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: files">
                                        <tr data-bind="attr: {title: name}, event: {dblclick: $parent.loadFile}">
                                            <td data-bind="text: name"></td>
                                            <td style="text-align: right" data-bind="text: size"></td>
                                            <td style="text-align: center"><a href="#" class="icon-trash" data-bind="click: $parent.removeFile"></a>&nbsp;|&nbsp;<a href="#" class="icon-folder-open" data-bind="click: $parent.loadFile"></a></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <span class="btn btn-primary btn-block fileinput-button">
                                    <i class="icon-upload icon-white"></i>
                                    <span>Upload</span>
                                    <input id="gcode_upload" type="file" name="gcode_file" class="fileinput-button" data-url="/ajax/gcodefiles/upload">
                                </span>
                                <div id="gcode_upload_progress" class="progress">
                                    <div class="bar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="span9 tabbable tabs-left">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#temp" data-toggle="tab">Temp</a></li>
                        <li><a href="#jog" data-toggle="tab">Jog</a></li>
                        <li><a href="#speed" data-toggle="tab">Speed</a></li>
                        <li><a href="#term" data-toggle="tab">Term</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active" id="temp">
                            <div id="temperature-graph" class="span6" style="height: 350px"></div>
                            <div class="span3">
                                Temp: <strong data-bind="text: temp"></strong><br>
                                Bed Temp: <strong data-bind="text: bedTemp"></strong><br>
                            </div>
                        </div>
                        <div class="tab-pane" id="jog">
                            <div class="span9">
                                <div class="row">
                                    <div class="span1 offset1 btn-group btn-group-vertical">
                                        <button class="btn btn-block btn-large" type="button"><i class="icon-chevron-up"></i></button>
                                        <button class="btn btn-block" type="button"><i class="icon-chevron-up"></i></button>
                                        <button class="btn btn-block btn-small" type="button"><i class="icon-chevron-up"></i></button>
                                    </div>
                                    <div class="span1 offset1 btn-group btn-group-vertical">
                                        <button class="btn btn-block btn-large" type="button"><i class="icon-chevron-up"></i></button>
                                        <button class="btn btn-block" type="button"><i class="icon-chevron-up"></i></button>
                                        <button class="btn btn-block btn-small" type="button"><i class="icon-chevron-up"></i></button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="span1 btn-group btn-group">
                                        <button class="btn" type="button"><i class="icon-chevron-left"></i></button>
                                        <button class="btn" type="button"><i class="icon-chevron-left"></i></button>
                                        <button class="btn" type="button"><i class="icon-chevron-left"></i></button>
                                    </div>
                                    <div class="span1">
                                        <button class="btn btn-block" type="button"><i class="icon-home"></i></button>
                                    </div>
                                    <div class="span1 btn-group btn-group">
                                        <button class="btn" type="button"><i class="icon-chevron-right"></i></button>
                                        <button class="btn" type="button"><i class="icon-chevron-right"></i></button>
                                        <button class="btn" type="button"><i class="icon-chevron-right"></i></button>
                                    </div>
                                    <div class="span1">
                                        <button class="btn btn-block" type="button"><i class="icon-home"></i></button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="span1 offset1 btn-group btn-group-vertical">
                                        <button class="btn btn-block btn-small" type="button"><i class="icon-chevron-down"></i></button>
                                        <button class="btn btn-block" type="button"><i class="icon-chevron-down"></i></button>
                                        <button class="btn btn-block btn-large" type="button"><i class="icon-chevron-down"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="speed">
                            Here be speed settings
                        </div>
                        <div class="tab-pane" id="term">
                            <pre id="terminal-output" class="pre-scrollable"></pre>
                            <div class="input-append">
                                <input type="text" class="span9" id="terminal-command">
                                <button class="btn" type="button" id="terminal-send">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>